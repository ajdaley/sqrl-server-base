CREATE TABLE sqrl_identities (ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, IDK VARCHAR(255) NOT NULL, NATIVEUSERXREF VARCHAR(255), SQRLENABLED SMALLINT DEFAULT 0 NOT NULL, PRIMARY KEY (ID))
CREATE TABLE sqrl_identity_data (ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, NAME VARCHAR(255) NOT NULL, VALUE VARCHAR(255) NOT NULL, IDENTITY_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE sqrl_transient_auth_data (ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, CORRELATOR VARCHAR(255) NOT NULL, DELETEAFTER DATE NOT NULL, NAME VARCHAR(255) NOT NULL, VALUE VARCHAR(255) NOT NULL, PRIMARY KEY (ID))
CREATE TABLE sqrl_used_tokens (ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, EXPIRYTIME DATE NOT NULL, TOKEN VARCHAR(255) NOT NULL, PRIMARY KEY (ID))
CREATE TABLE sqrl_auth_progress (ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, AUTHENTICATIONSTATUS VARCHAR(255) NOT NULL, AUTHENTICATIONTIME DATE, CORRELATOR VARCHAR(255) NOT NULL, EXPIRYTIME DATE NOT NULL, SQRLIDENTITY_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE sqrl_identity_flags (ID BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL, ENABLED SMALLINT DEFAULT 0 NOT NULL, FLAGNAME VARCHAR(255) NOT NULL, IDENTITY_ID BIGINT, PRIMARY KEY (ID))
ALTER TABLE sqrl_identity_data ADD CONSTRAINT sqrldnttydtaDNTTYD FOREIGN KEY (IDENTITY_ID) REFERENCES sqrl_identities (ID)
ALTER TABLE sqrl_auth_progress ADD CONSTRAINT sqrlthprSQRLDNTTYD FOREIGN KEY (SQRLIDENTITY_ID) REFERENCES sqrl_identities (ID)
ALTER TABLE sqrl_identity_flags ADD CONSTRAINT sqrldnttyflgDNTTYD FOREIGN KEY (IDENTITY_ID) REFERENCES sqrl_identities (ID)
